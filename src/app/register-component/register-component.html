<div class="d-flex justify-content-center align-items-center min-vh-100 bg-light">
  <div class="card shadow-lg" style="width: 500px;">

    <div class="card-header text-white text-center bg-primary">
      <h4 class="mb-0">Munkatárs felvétele</h4>
      <small>Alkalmazott adatai</small>
    </div>

    @if (error()) {
      <div class="alert alert-danger mb-0 rounded-0">{{ error() }}</div>
    }

    <div class="card-body">
      <form (ngSubmit)="onRegister()">

        <div class="mb-3">
          <label for="fullName" class="form-label">Teljes név</label>
          <input id="fullName" type="text" class="form-control" placeholder="Teljes nevét írja ide!"
                 [(ngModel)]="fullName" name="fullName" required />
        </div>

        <div class="mb-3">
          <label for="phone" class="form-label">Telefonszám</label>
          <input id="phone" type="text" class="form-control" placeholder="Telefonszámát írja ide"
                 [(ngModel)]="phone" name="phone" required />
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">E-mail cím</label>
          <input id="email" type="email" class="form-control" placeholder="E-mail címét írja ide"
                 [(ngModel)]="email" name="email" required />
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">Jelszó</label>
          <input id="password" type="password" class="form-control" placeholder="Jelszavát írja ide"
                 [(ngModel)]="password" name="password" required />
        </div>

        <div class="mb-3">
          <label for="position" class="form-label">Beosztás / munkakör</label>
          <input id="position" type="text" class="form-control" placeholder="Pl.: szerelő / ügyfélszolgálat"
                 [(ngModel)]="position" name="position" required />
        </div>

        <div class="mb-3">
          <label class="form-label d-block">Szerepkörök</label>

          <div class="border rounded p-2" style="max-height: 140px; overflow-y: auto;">
            @for (roleObj of rolesSignal(); track roleObj.value) {
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="role"
                  [id]="'role-' + roleObj.value"
                  [value]="roleObj.value"
                  [checked]="isRoleSelected(roleObj.value)"
                  (change)="toggleRole(roleObj.value, $event.target.checked)" />
                <label class="form-check-label" [for]="'role-' + roleObj.value">
                  {{ roleObj.label }}
                </label>
              </div>
            } @empty {
              <div class="text-muted small fst-italic">
                Nincsenek szerepkörök betöltve
              </div>
            }
          </div>

          <div class="form-text">
            Ha semmit nem pipálsz be, a felhasználó <strong>0 szerepkörrel</strong> jön létre.
          </div>
        </div>

        <button class="btn btn-primary w-100" type="submit">Felvesz</button>
      </form>
    </div>
  </div>
</div>
