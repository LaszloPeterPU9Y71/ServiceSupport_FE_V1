<!-- Gépkiválasztás -->
<div class="mb-3">
  <label class="form-label">Gép</label>
  <select class="form-select"
          [ngModel]="formData().toolId"
          (ngModelChange)="updateField('toolId', $event)">
    <option [ngValue]="null">Válassz gépet...</option>
    @for (tool of tools(); track tool.id) {
      <option [ngValue]="tool.id">{{ tool.name }} ({{ tool.itemNumber }})</option>
    }
  </select>
</div>

<!-- Owner description -->
<div class="mb-3">
  <label class="form-label">Tulajdonos leírása</label>
  <textarea class="form-control"
            [ngModel]="formData().ownerDescription"
            (ngModelChange)="updateField('ownerDescription', $event)"></textarea>
</div>

<!-- Checkboxok -->
<div class="form-check">
  <input class="form-check-input" type="checkbox"
         [checked]="formData().warranty"
         (change)="updateField('warranty', $event.target.checked)">
  <label class="form-check-label">Garanciális</label>
</div>

<div class="form-check">
  <input class="form-check-input" type="checkbox"
         [checked]="formData().hasWarrantyCard"
         (change)="updateField('hasWarrantyCard', $event.target.checked)">
  <label class="form-check-label">Jótállási kártya</label>
</div>

<div class="form-check">
  <input class="form-check-input" type="checkbox"
         [checked]="formData().hasInvoiceCopy"
         (change)="updateField('hasInvoiceCopy', $event.target.checked)">
  <label class="form-check-label">Számlamásolat</label>
</div>

<div class="form-check">
  <input class="form-check-input" type="checkbox"
         [checked]="formData().hasRegistrationProof"
         (change)="updateField('hasRegistrationProof', $event.target.checked)">
  <label class="form-check-label">Regisztrációs igazolás</label>
</div>

<!-- Assigned user -->
<div class="mb-3 mt-3">
  <label class="form-label">Szerelő</label>
  <select class="form-select"
          [ngModel]="formData().assignee"
          (ngModelChange)="updateField('assignee', $event)">
    <option [ngValue]="null">Nincs hozzárendelve</option>
    @for (user of users(); track user.id) {
      <option [ngValue]="user.id">{{ user.fullName }}</option>
    }
  </select>
</div>

<!-- Mentés -->
<button class="btn btn-primary mt-3" (click)="createWorksheet()">Mentés</button>
